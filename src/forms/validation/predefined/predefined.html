<template>
  
  <m-form schema.bind="schema" submit.call="submit($context)">
    <template replace-part="after">      
      <button type="submit" class="btn btn-default">Submit</button>
      <span if.bind="!valid" class="label label-danger">Please correct errors and submit again</span>
    </template>
  </m-form>
  
  <div class="row">
    
    <div class="col-md-8" if.bind="validations.length">
      <div class="alert alert-warning">
        <p>Validation summary:</p>
        <ul>
          <li repeat.for="validation of validations">${validation.field.label}:
            <span repeat.for="error of validation.errors">${error}</span>
          </li>
        </ul>
      </div>
    </div>
    
    <div class="${validations.length ? 'col-md-4' : 'col-md-12'}">
      <pre if.bind="submitted"><code>${submitted}</code></pre>
    </div>
    
  </div>
  
</template>